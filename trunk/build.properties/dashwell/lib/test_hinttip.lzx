<canvas debug="true">
    <include href="hinttip/hinttip.lzx" />

    <!-- test language dataset -->
    <dataset name="en_US">
        <root metaDesc="English United State">
            <item helpid="B1" desc="I am a button" />
        
            <item helpid="T1" desc="I am a text" />
            <item helpid="T2" desc="I am a text [a second one]" />
            <item helpid="T3" desc="I am a text [a third one]" />
            <item helpid="T4" desc="I am a text [a fourth one], but in a grid cell" />
        
            <item helpid="GC1" desc="I am a first grid column" />
        </root>
    </dataset>

    <dataset name="id_ID">
        <root metaDesc="Bahasa Indonesia">
            <item helpid="B1" desc="Saya adalah tombol" />
        
            <item helpid="T1" desc="Saya adalah tulisan" />
            <item helpid="T2" desc="Saya adalah tulisan [yang kedua]" />
            <item helpid="T3" desc="Saya adalah tulisan [yang ketiga]" />
            <item helpid="T4" desc="Saya adalah tulisan [yang keempat], tapi di dalam sel" />
        
            <item helpid="GC1" desc="Saya adalah kolum pertama" />
        </root>    
    </dataset>

    <dataset name="contacts">
        <resultset >
            <result id="3" firstname="Adam" lastname="Wolff" displayname="Adam Wolff" email="adam@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="4" firstname="Alex" lastname="B" displayname="Alex B" email="alexb@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="6" firstname="Ann" lastname="Sussman" displayname="Ann Sussman" email="ramdomann1@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="7" firstname="Anne" lastname="Harrison" displayname="Anne Harrison" email="aharrison@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="9" firstname="Antony" lastname="Campitelli" displayname="Antony Campitelli" email="acampitelli@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="10" firstname="Christian" lastname="Walker" displayname="Christian Walker" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="12" firstname="Betsy" lastname="de Fries" displayname="Betsy de Fries" email="betsy@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="14" firstname="Bill" lastname="Mitchel" displayname="Bill Mitchel" email="bill@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="15" firstname="Ani" lastname="DiFranco" displayname="Ani DiFranco" home_default="0" work_default="0" work_webpage="http://www.righteousbabe.com/ani/" />
            <result id="17" firstname="Burt" lastname="Magen" displayname="Burt Magen" email="bmagen@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="25" lastname="Dad" displayname="Dad" home_default="0" home_mobile="(508) 555-1212" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="34" firstname="Amelia" lastname="Earhart" displayname="Amelia Earhart" home_default="0" work_default="0" />
            <result id="63" firstname="Jim" lastname="Choumas" displayname="Jim Choumas" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="92" firstname="Oliver" lastname="Steele" displayname="Oliver Steele" email="osteele@foo.com" home_default="0" home_phone="617 555-1212" work_default="0" work_office="617-555-1212" work_webpage="http://www.laszlosystems.com/" />
            <result id="93" firstname="Al" lastname="Franken" displayname="Al Franken" email="al@foo.com" home_default="0" work_default="0" work_webpage="http://www.ohthethingsiknow.com/" />
            
            <result id="124" firstname="Voicemail" lastname="Home" displayname="Voicemail Home" home_default="0" work_default="0" work_office="(415) 555-1212" work_webpage="http://www.laszlosystems.com/" />
        </resultset>
    </dataset>

    <handler name="oninit">
        //by default use english
        hinttipmanager.setAttribute("meta_key","helpid");
        hinttipmanager.setAttribute("meta_value","desc");
        hinttipmanager.setAttribute("meta_entrypath","en_US:/root");
        
        //register where to direct the output
        hinttipmanager.setAttribute("displayref",hinttipdisplayer);
    </handler>

    <view>
        <simplelayout spacing="5"/>
        <button text="mouse over me">
            <hinttip tipid="B1" />
        </button>
    
        <text id="t1" text="mouse over me" bgcolor="yellow" clickable="true">
            <hinttip tipid="T1" />
        </text>

        <text id="t2" text="mouse over me please" bgcolor="blue">
            <hinttip tipid="T2" />
        </text>
        <text multiline="true" fgcolor="red" width="200">For the following data grid, you can mouse over both columns and the cells of 2nd columns</text>
        <grid datapath="contacts:/resultset">
        
            <gridcolumn showheader="false" width="50">
                <view bgcolor="#CCCCCC" width="${parent.width}"
                      placement="header"
                      height="${parent.immediateparent.height-1}">
                    <text>(?)
                          <hinttip tipid="T3" />
                    </text>
                </view>
                <text datapath="position()"/>
            </gridcolumn>
            
            <gridcolumn width="200">Name
            
                <hinttipspecial type="gridcolumnheader" tipid="GC1"/>
                <text datapath="@displayname">
                    <hinttip tipid="T4" />
                </text>
            </gridcolumn>
        </grid>
    </view>

    <view name="statusbar" bgcolor="gray"
         valign="bottom"  width="100%" height="30">
         
        <text id="hinttipdisplayer" multiline="true" selectable="true"
              height="26" width="99%" bgcolor="0xAAAAAA"
              valign="middle" align="center" />
    </view>

    <!-- test panel -->
    <window title="Test panel" x="300">
        <simplelayout />
        <button text="set to English United State (en_US) lang"
                onclick="hinttipmanager.setAttribute('meta_entrypath','en_US:/root')" />
        <button text="set to Bahasa Indonesia (id_ID) lang"
                onclick="hinttipmanager.setAttribute('meta_entrypath','id_ID:/root')" />
    </window>

</canvas>
