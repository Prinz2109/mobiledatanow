<canvas height="100%" debug="true">
    <include href="ftgrid.lzx" />

    <dataset name="contacts">
        <resultset >
            <!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
            * Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
            * Use is subject to license terms.                                            *
            * X_LZ_COPYRIGHT_END ****************************************************** -->
            <result id="154" firstname="Chep" middlename="Yo" lastname="Arwins" displayname="Chep Yo Arwins" nickname="Yo" email="chep@arwins.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="146" firstname="Laszlo" lastname="Serious" title="Mr." displayname="Laszlo Serious" nickname="Serious" email="yah@sirius.com" home_default="1" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="149" firstname="Antun" lastname="Karlovac" displayname="Antun Karlovac" email="antun@antunkarlovac.com" home_address="2321 Russell St #3G" home_city="Berkeley" home_state="CA" home_zip="94705" home_country="USA" home_default="0" home_webpage="http://www.antunkarlovac.com" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="16" firstname="Bret" lastname="Simister" displayname="Bret Simister" email="bsimister@foo.com" home_default="1" home_phone="415-555-1212" home_mobile="(415) 555-1212" work_address="768 21st Street" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="140" firstname="Emily" middlename="Elizabeth" lastname="Dickinson" title="Ms" displayname="Emily Dickinson" email="emily@dickinson.com;edickinson@erathlink.net" home_default="1" work_city="Amherst, MA" work_default="0" work_webpage="http://www.cwru.edu/affil/edis/edisindex.html" />
            <result id="18" firstname="Caprice" lastname="Briggs" displayname="Caprice Briggs" email="caprice@foo.com;capricious@capricorn.net" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="19" firstname="Charles" lastname="Ember" displayname="Charles Emory" email="charlesemory@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="20" firstname="Cheryl" lastname="Erickson" displayname="Cheryl Erickson" email="chericks@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="21" firstname="Chris" lastname="Kimm" displayname="Kimm Chris" email="ckimm@foo.com;mikc@oof.moc" home_default="1" home_phone="(415) 555-1212" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="22" firstname="Christopher" lastname="Stewart" displayname="Stewart Christopher" email="docstu@foo.edu" home_default="1" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="23" firstname="Colleen" lastname="Forbes" displayname="Colleen Forbes" email="colfor@foo.com" home_default="0" home_phone="(415) 555-1212" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="24" firstname="John" middlename="Doe" lastname="Smith" title="Mr" displayname="John D. Smith" email="nancy@foo.com;this is a particularly long email address that I would like to add" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="26" firstname="Dan" middlename="D" lastname="Man" displayname="Dan Lewis" email="dan@foo.com;freem" home_default="1" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="27" firstname="Dan" lastname="Lewis" displayname="Dan Lewis" email="dlewis@foo.com" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
            <result id="28" firstname="Dan" lastname="Rokhsar" displayname="Dan Rokhsar" email="dsrokhsar@foo.gov" home_default="0" work_default="0" work_webpage="http://www.laszlosystems.com/" />
        </resultset>
    </dataset>

    <simplelayout axis="y" spacing="10"/>

    <view height="10" />
    <text fontstyle="bold">"ftgrid" instance using <u>explicitly declared</u> "ftgridcolumn"</text>
    <ftgrid datapath="contacts:/resultset">
        <ftgridcolumn width="50">ID.
            <text datapath="@id"/>
        </ftgridcolumn>
        <ftgridcolumn width="200"> Name
            <text datapath="@displayname"/>
        </ftgridcolumn>
        <ftgridcolumn width="200"> Email
            <text datapath="@email"/>
        </ftgridcolumn>
    </ftgrid>

    <view height="10" />
    <text fontstyle="bold">"ftgrid" instance using <u>implicitly declared</u> "ftgridtextcolumn"</text>
    <ftgrid datapath="contacts:/resultset"
          id="myGrid2"
          contentdatapath="result"
          height="100" />
    
    <window title="Test Harness" x="490" y="20" width="200">
        <simplelayout axis="y" spacing="10" />
        <text width="100%" multiline="true">
            To capture the event when something has changed, you need to
            listen for the onblurintextfield event from the grid itself.
            This event will pass an argument that's a datapath to the
            current row. You can then use datapointer APIs to read off
            values.
        </text>
        <handler name="onfocusintextfield" args="rowdp" reference="myGrid2">
            Debug.write("onfocusintextfield", rowdp);
        </handler>
        <handler name="onblurintextfield" args="rowdp" reference="myGrid2">
            Debug.write("onblurintextfield", rowdp);
            Debug.write("The first name is " + rowdp.getNodeAttribute("firstname"));
        </handler>
    </window>

    <!-- test control 
    <view height="10" />
    <text fontstyle="bold">standard "grid" instance using <u>implicitly declared</u> "gridtext" column</text>
    <grid datapath="contacts:/resultset" 
          contentdatapath="result"
          height="100" /> -->
</canvas>
