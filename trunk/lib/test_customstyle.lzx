<?xml version="1.0" encoding="UTF-8"?>
<canvas width="600" height="500" debug="true">

	<include href="incubator/roundrect.lzx"/>
	
	<class name="mdn_roundrect" extends="roundrect" borderColor="#808080">
		
		<method event="onwidth">
      this.drawStructure();
    </method>
    
    <method event="onheight">
      this.drawStructure();
    </method>
    
  </class>
	
	<!-- All styles below. -->
	<silverstyle name="silvercolors"/>
  <greenstyle name="greencolors"/>
  <bluestyle name="bluecolors"/>
  <goldstyle name="goldcolors" isdefault="true"/>
  <whitestyle name="whitecolors"/>
	<purplestyle name="purplecolors"/>
	
	<method name="switchMainView" args="nextView">
		<![CDATA[
    var states = [mainView._view1, mainView._view2];
    Debug.write("Switch view to: " + nextView);
    for (var i in states) {
      if (states[i].name != nextView) {
        states[i].remove();
      } else {
        states[i].apply();
      }
    }
    ]]>
  </method>
	
	<view id="all" width="${immediateparent.width}" height="${immediateparent.height - 10}" y="5">
		<simplelayout axis="x"/>
		<view id="navigation" width="150" height="${immediateparent.height}">
			<simplelayout axis="y" spacing="5"/>
			<button text="View 1" align="center">
				<method event="onclick">
					canvas.switchMainView("_view1");
				</method>
			</button>
			<button text="View 2" align="center">
				<method event="onclick">
					canvas.switchMainView("_view2");
				</method>
			</button>
		</view>
		<view id="divider" width="5" height="${immediateparent.height}" bgcolor="#e3e3e3" />
		<view id="mainView" width="${all-navigation-divider}" height="${immediateparent.height}">
			<state name="_view1">
				<view1Content width="440" height="${immediateparent.height}"/>
			</state>
			<state name="_view2">
				<lookAndFeel width="440" height="${immediateparent.height}"/>
			</state>
		</view>
	</view>
	
	<class name="view1Content" bgcolor="${canvas.bgcolor}"  extends="mdn_roundrect">
		<view width="${immediateparent.width}" height="${immediateparent.height}" >
			<text text="View 1 Content"/>
		</view>
	</class>
	
	<class name="lookAndFeel" bgcolor="${canvas.bgcolor}" extends="mdn_roundrect">
		<view width="${immediateparent.width}" height="${immediateparent.height}" >
			<view width="${immediateparent.width - 80}" 
						height="${immediateparent.height - 80}" x="40" y="40">
				<simplelayout axis="x" spacing="5"/>
          <text>Select a style:</text>
          <combobox width="120" editable="false">
              <method event="onselect">
                  var colorchoice = this.getValue();
                  canvas[colorchoice+'colors'].setAttribute("isdefault", true);
              </method>

              <textlistitem text="Silver" value="'silver'"/>
              <textlistitem text="Green" value="'green'"/>
              <textlistitem text="Blue" value="'blue'" selected="true"/>
              <textlistitem text="Gold" value="'gold'"/>
              <textlistitem text="White" value="'white'"/>
              <textlistitem text="Purple" value="'purple'"/>
          </combobox>
			</view>
		</view>
	</class>
</canvas>
