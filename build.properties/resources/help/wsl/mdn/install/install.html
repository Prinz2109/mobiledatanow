<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.76 [en] (X11; U; Linux 2.2.18 i686) [Netscape]">
   <title>Mobile Data Now, Quick Start Installation and Configuration
</title>
</head>
<body bgcolor="#FFFFFF">
<font size=+4>Mobile
Data Now, Quick Start Installation and Configuration</font>
<p>There are three main applications that comprise Mobile Data Now:
<ul>
<br>
<b>Mdn Administrator</b>
<br>The GUI application that is used to import and define databases, setup
data views, and create the WAP presentations that users will see.</li>
<br>
<br>
<li>
<b>Mdn Server</b>
<br>The server which handles remote data access, the RMI registry, notifications
and messages.</li>
<li>
<br>
<b>Mdn WML Servlet</b>
<br>The WML servlet that provides WAP access to the datasources configured
using Mdn Administrator.</li>
<br>
<p>All three applications can run on different machines. Most commonly,
Mdn Server will run on a single server machine, along with the web server
that hosts the Mdn WML servlet, while Mdn Administrator will be installed
and executed from many different client machines. To configure the client
applications to access Mdn Server running on a different machine see <a href="#remote_client">Setting
up Client Apps to Access Remote MDN Server</a>.
</ul>

The following Quick Start Installation instructions are suitable for the full or minimal installations
of Mobile Data Now, and can be used in almost all situations.<br>
<p>The <a href="#main_install">detailed installation</a> process describes
the installation and configuration of the Mobile Data Now server and client
applications, in a non-standard environment. This process is more suitable for a system administrator.
This process may also require that Java and Tomcat are already installed on a server.
<p>If you have difficulty with the installation of Mobile Data Now, have
a look at the <a href="#troubleshooting">Troubleshooting</a> section.
<p>
<hr WIDTH="100%">
<br><a NAME="quick_install"></a><font size=+2>Quick Start Installation</font>
<p>The following instructions only apply to the <b>full installation</b>
download of Mobile Data Now.

<ol><!-- start of Quick install ordered list -->
<li><b><i>Installing the Applications</i></b><br>

<ul><!-- start of extract unordered list -->
    <li>If you downloaded the <b>Minimal Installation</b> of Mobile Data Now, you first need to make sure
    you have an <b>existing Java Virtual Machine</b> installed on your machine.  You will also need to have
    the <b>JAVA_HOME</b> environment variable defined, pointing at the Java root directory.<p>

    <li>Locate the downloaded installation file, and execute it by typing/double-clicking
    <b>install.exe</b> under Windows, or typing <b>sh ./install.bin</b> under Linux/Solaris.<p>

    <li>Choose <b>Full Installation</b> if you want to install the Mdn Server application, web server,
    and Mdn Administrator.  If you have already installed Mdn Server on another machine, you can choose Client Install,
    to install only Mdn Administrator, or use the Web Server install.<p>

    <li>Accept the licence agreement, and click Next.<p>

    <li>Accept the default destination, <b><i>c:\mdn</i></b>, or choose another, and click Next.<p>

    <li>Select the location where shortcuts or links are to be created, and click Next.<p>

    <li>A summary of the installation will be displayed.  If everything is OK, click <b>Install</b>.<p>

</ul>


<p>
<li><b><i>Configure Remote Server</i></b>

<br>If you only installed MDN Admin, or the Web Server components, you will need
to configure these applications so they know where to locate the remote Mdn Server application.
This simple process requires that the remote server's IP address be entered for the
<a href="#quick_config_mdn">SecureRegistry.host</a> setting in the <a href="#quick_config_mdn">Mdn.conf</a>
file.<br>To set the remote IP address:<br>
<ul>
    <li>Change directory to <b>wsl/config/mdn</b> under the <b>MDN installation directory</b>.<p>
    <li>Edit the <b>mdn.conf</b> file, e.g. under Windows, you could use Wordpad by typing
    <em>wordpad mdn.conf</em><p>
    <li>Change the line that reads <b>SecureRegistry.host=localhost</b>, so that localhost is
    replaced by the correct <b>server IP address</b>.<p>
    <li>Save the file<p>
</ul>
<p>
<li>
<a NAME="register"></a><b><i>Registering Mobile Data Now</i></b>

<br>Once Mdn Server has been installed, you need to register the application before you can use it.
Registration is performed using the <b>Licence Manager</b> application, which is automatically displayed
when you first start Mdn Server, or can be executed manually by doing the following:<br>
<ul>
<li>Execute the <b>Licence Manager</b> by selecting it from the <i>Start|Programs|Mobile Data Now</i> menu
(under Windows), or type <i>licence</i> at a Linux/Solaris command prompt.<p>

<li>Copy the key shown in the <b>Customer licence key</b> field.<p>

<li> Go to the registration form on the <a href="http://www.wapsolutions.co.nz/downloads.cfm#key">WAP Solutions web site</a>,
and paste the Customer licence key into the correct field.  You must also enter your contact information on this form.<p>

<li>Click on the <b>Request Key</b> link to submit you information.<p>

<li>You will receive an email message from WAP Solutions containing a valid
<b>Activation key</b> within a day.<p>

<li>When you receive your <b>Activation Key</b>, execute the Licence Manager again.<p>

<li>Copy the <b>Activation key</b> from the email message and paste it into
the Activation key field.<p>

<li>Click on the <b>Set Key</b> button.<p>

<li>You are now registered. Click on the <b>Close</b> button.<p>
</ul>

<p>
<br><a NAME="start_apps"></a><b><font size=+2>Congratulations!  You are now ready to start
the Mobile Data Now applications.</font></b>

<p>There are three main applications that comprise the Mobile Data Now:
<ul>
<li>
<b><a href="#start_server">MDN Server</a></b>
<br>The server which handles remote data access, the RMI registry, notifications
and messages.</li>

<li><b><a href="#start_admin">MDN Administrator</a></b>
<br>The GUI application that is used to import and define databases, setup
data views, and create the WAP presentations that users will see.</li>

<li><b><a href="#start_servlet">MDN WML Servlet</a></b>
<br>The WML servlet that provides WAP access to the datasources configured
using Mdn Administrator. The servlet is the process your WAP browser connects
to in order to receive content.</li>

<br>See <a href="#wap_browse">Connecting a WAP browser to the Mdn WML Servlet</a>
for more information on viewing the WAP content generated once you have
used Mdn Administrator to build you WAP site.</ul>
All three applications can run on different machines. Most commonly, Mdn
Server will run on a single server machine, along with the web server that
hosts the Mdn WML servlet, while Mdn Administrator will be installed and
executed from many different client machines. To configure the client applications
to access Mdn Server running on a different machine see <a href="#remote_client">Setting
up Client Apps to Access Remote MDN Server</a>.

<br>&nbsp;
<li><a NAME="start_server"></a><b><i>Starting MDN Server</i></b>
<br>MDN Server is the primary contact with the Mobile Data Now system database
for all client applications. It is used by both the MDN Administrator and
WML Servlet. MDN Server can be remote (on a different machine) from all
instances of the MDN Administrator and the web server running the WML Servlet.
Because MDN Server is used by all client applications, it needs to be running
before any client program is started.<br>
<p>To start MDN Server:
<ul>
    <li>Choose <b>Mdn Server</b> from the <em>Start|Programs|Mobil Data Now</em> menu
    under Windows, or type <em>mdnserver</em> from a command shell window under Linux/Solaris</li>

    <li>If this is the first time you have executed Mdn Server, you will see the
    <b>End User Licence Agreement (EULA)</b> displayed. Once you accept the EULA,
    you can continue.</li>

    <li>If Mobile Data Now has not yet been licensed, you will see the Licence
    Manager displayed, prompting you to <a href="#register">register Mobile
    Data Now</a>. Once you have successfully licensed MDN and entered the activation
    key, you will be able to start MdnServer.</li>
</ul>

<br>&nbsp;
<li><a NAME="stop_server"></a><b><i>Stopping MDN Server</i></b>
<p>To shutdown MDN Server:
<ul>
    <li>Choose <b>Stop Mdn Server</b> from the <em>Start|Programs|Mobil Data Now</em> menu
    under Windows, or type <em>mdnservershutdown</em> from a command shell window under Linux/Solaris</li>
</ul>

<br>
<li>
<a NAME="start_admin"></a><b><i>Starting MDN Administrator</i></b>
<br>MDN Administrator is the client application used to create and maintain
all datasources, data views, users, groups, and menus.
<p>MDN Administrator does not necessarily need to be executed on the same
machine as the MDN Server. If it is executed remotely, you will need to
make a change to the <a href="#quick_config_mdn">SecureRegistry.host</a>
setting in the <a href="#quick_config_mdn">Mdn.conf file</a> to configure
<b>remote MDN Server access</b>.

<p>To start MDN Administrator:
<ul>
    <li>Choose <b>Mdn Administrator</b> from the <em>Start|Programs|Mobil Data Now</em> menu
    under Windows, or type <em>mdnadmin</em> from a command shell window under Linux/Solaris</li>

    <li>You will be prompted for a user ID and password.</li>

    <br><a NAME="admin_login"></a><b>The default administrator login is:</b>
    <br><i>Username:</i> admin, <i>Password:</i> admin
</ul>

<p>
<li><a NAME="start_servlet"></a><b><i>Starting the MDN WML Servlet</i></b>

<br>The MDN WML Servlet runs on a web server, and provides the WML content
that is viewed on WAP enabled devices.

<p>Acknowledgement:
<br>This product includes software developed by the Apache Software Foundation
(http://www.apache.org/).

<p>We have included the Tomcat servlet engine in the Full Installation
package. Tomcat needs to be installed on an internet accessible server,
in order to be able to access the WAP site externally using WAP enabled
devices, such as cellphones. If the server is not connected to the internet,
the WML servlet can still be trialed over the local area network using
a WAP Emulator application.
<p>To start the Web server and MDN WML Servlet:
<ul>
    <li>Choose <b>Tomcat Startup</b> from the <em>Start|Programs|Mobil Data Now</em> menu
    under Windows, or type <em>tomcatstartup</em> from a command shell window under Linux/Solaris</li>
</ul>

<p>To stop the Web server and MDN WML Servlet:
<ul>
    <li>Choose <b>Tomcat Shutdown</b> from the <em>Start|Programs|Mobil Data Now</em> menu
    under Windows, or type <em>tomcatshutdown</em> from a command shell window under Linux/Solaris</li>
</ul>

<br>
<li><a NAME="wap_browse"></a><b><i>Connecting a WAP Browser to the Mdn WML Servlet</i></b>

<br>You can access WAP sites over the internet/intranet using either a
WAP enabled device, such as a cellphone, or using a WAP emulator. There
a number of excellent WAP emulation software packages available, such as
the SmartPhone Emulator available at <a href="http://www.yospace.com/">http://www.yospace.com</a>.
<dl>
<dt>
You can configure your WAP browser to access the Mdn WML Servlet by creating
a bookmark to:</dt>

<dd>
<b>http://<i>IP_address</i>/mdnwap/index.wml</b></dd>

<br>or...
<dd>
<b>http://<i>IP_address</i>/mdnwap/servlet/MdnWmlServlet</b></dd>

<dt>
... where <b><i>IP_address</i></b> will be you web server's internet address
(IP address) or hostname. You can also use <i>localhost</i> if you are
running an emulator on the same machine as the web server.</dt>
</dl>

<p>
<li><a NAME="web_browse"></a><b><i>Connecting a WEB Browser to the Mdn HTML Servlet</i></b>
<dl>
<dt>
You can configure your WEB browser to access the Mdn HTML Servlet by creating
a bookmark to:</dt>

<dd>
<b>http://<i>IP_address</i>/mdnweb/index.html</b></dd>

<br>or...
<dd>
<b>http://<i>IP_address</i>/mdnweb/servlet/MdnHtmlServlet</b></dd>

<dt>
... where <b><i>IP_address</i></b> will be you web server's internet address
(IP address) or hostname. You can also use <i>localhost</i> if you are
running your web browser on the same machine as the web server.</dt>
</dl>

</ol>
<!-- End of Quick install ordered list -->
<p>
<hr WIDTH="100%">
<br><a NAME="main_install"></a><font size=+2>Detailed Installation and
Configuration</font>
<p>The following installation instructions are for the advanced configuration
of Mobile Data Now.  It is recommended that only System Administrators attempt
these changes.<br>
<p>The installation instructions will use the following symbolic names
to refer to the Mobile Data Now, Java and Tomcat directories.
<dl>
<dt>
<b>MDN_HOME</b></dt>

<dd>
The root directory where Mobile Data Now is installed, <i>example: c:\mdn</i></dd>

<dt>
<b>JAVA_HOME</b></dt>

<dd>
The root directory where Java SDK or JRE is installed, <i>example: c:\JRE\1.3</i></dd>

<dt>
<b>TOMCAT_HOME</b></dt>

<dd>
The root directory where Tomcat is installed, <i>example: c:\tomcat</i></dd>
</dl>

<ol>
<li><b><i>Pre-install</i></b>

<br>Before installing Mobile Data Now it is necessary to install the appropriate
<i>Java 2</i> runtime environment (version 1.2 or later) for your hardware platform.
Java 2 is available as a part of the <b>full installation</b> download,
or can be downloaded from <a href="http://java.sun.com">Sun</a>.
<p>If the machine is also required to act as a web server to run the MDN
WML or HTML servlets for WAP presentations, you must also install a webserver that
supports Servlets. This document assumes that Apache's Tomcat server is
used. An installation of Tomcat is included as part of the <b>full installation</b>
download, or may be downloaded from the <a href="http://jakarta.apache.org/">Apache
Software Foundation</a>.
<p>If you intend to use a different database from the default Microsoft
Access (Windows installation) or JDataStore (linux/Solaris installation) database shipped with the downloads,
you must also have installed and configured the database and installed the JDBC drivers for your database.
<br>&nbsp;

<li><b><i>Configuring Mobile Data Now Files</i></b>

<br>To install the Mobile Data Now files, see the <a href="#quick_install">Quick Start Installation</a> instructions.<br>
<p>
After installation, you may need to run some of the batch files in the MDN_HOME directory.  These rely on the
<b>setenv</b> batch file, which needs to have 3 environment variables set that correctly reflect your current
environment. <br>To change the environment variables, edit the file <b>MDN_HOME\setenv.bat</b>
and change the following settings:<br>
<ul>
<li>change the line <i>set MDN_HOME=c:\mdn</i> to the correct <b>MDN_HOME</b> directory.</li>

<li>change the line <i>set JAVA_HOME=%MDN_HOME%\JRE\1.3</i> to the correct <b>JAVA_HOME</b> directory.</li>

<li>change the line <i>set TOMCAT_HOME=%MDN_HOME%\tomcat</i> to the correct <b>TOMCAT_HOME</b> directory.</li>
</ul>

<br>If you did not install Tomcat to the standard location under MDN_HOME, you will need setup your existing
Tomcat installation so that it recognises the Mdn WML and HTML servlets.  To do this:<br>
<ul>
<li>Copy <b>MDN_HOME\tomcat\webapps\mdnwap</b> directory into your <b>TOMCAT_HOME\webapps</b> directory.</li>
<li>Copy <b>MDN_HOME\tomcat\webapps\mdnwml</b> directory into your <b>TOMCAT_HOME\webapps</b> directory.</li>

<li>
If Tomcat is using java security, you will need to <a href="#config_tomcat">configure
Tomcat</a> security to grant the MDN WML and HTML servlets access permissions.</li>

<li>
If your Tomcat installation is not configured to listen for HTTP requests
on port 80 (the default Tomcat HTTP handler listens on port 8080), you
may need to change to port 80. This is because some WAP gateways (the interface
between the cellular network and the internet) will only process WAP requests
to port 80. See the <a href="#config_tomcat">Configure Tomcat</a> section
for more information.</li>
<b>Note:</b>  If you are using port 80 and running Tomcat under Linux or Solaris, you may need to start Tomcat while
logged in as <b>root</b> because often the low TCP/IP port numbers require superuser privileges.<br>
</ul>

<br>
<li>
<b><i>Update/Modify the Configuration Files</i></b>

<br>The Mobile Data Now configuration files are located in the <b>MDN_HOME\wsl\config\mdn</b>
directory. These files contain settings that are specific to the operating
environment of the MDN Server, MDN Administrator, and MDN WML Servlet applications.
<p>The most important configuration entries that can be modified are detailed
here. More configuration details are provided in the <a href="#config_detail">Configuration
File Details</a> section.
<dl>
<dt>
<a NAME="quick_config_mdn"></a><b>Mdn.conf</b></dt>

<ul>
<li>
<b>Setting:</b> SecureRegistry.host - Set this to the IP address or domain
name of the server running the MDN Server process.

<br><b>Default setting:</b> SecureRegistry.host=localhost
<br><b>Example:</b> SecureRegistry.host=192.168.1.39</ul>

<p>
<dt>
<a NAME="quick_config_rmi_client"></a><b>MdnRmiClient.conf</b></dt>

<dd>
The default settings should be fine for this file.</dd>

<p>
<dt>
<a NAME="quick_config_rmi_server"></a><b>MdnRmiServer.conf</b></dt>

<ul>
<li>
<b>Setting:</b> JdbcDataSource.driver - Set this to a fully qualified package
and class name of the java class that implements the JDBC driver for your
database.

<br><b>Default setting:</b> JdbcDataSource.driver=sun.jdbc.odbc.JdbcOdbcDriver
<br><b>Example:</b> JdbcDataSource.driver=com.borland.datastore.jdbc.DataStoreDriver

<p>
<li>
<b>Setting:</b> JdbcDataSource.url - Set this to a correctly formatted
JDBC URL for the driver that was specified in the JdbcDataSource.driver
setting.
<p>
<br><b>Default setting:</b> JdbcDataSource.url=jdbc:odbc:mdn
<br><b>Example:</b> JdbcDataSource.url=jdbc:borland:dslocal:c:/mdn/database/mdn.jds

<p>
<li>
<b>Setting:</b> JdbcDataSource.user - Set this to a the username used to
log into your database server. It is optional if your database configuration
does not require a login.

<br><b>Default setting:</b> JdbcDataSource.user=db_user_id
<br><b>Example:</b> JdbcDataSource.user=administrator

<p>
<li>
<b>Setting:</b> JdbcDataSource.password - Set this to the password for
the user name you specified with the JdbcDataSource.user setting. It is
optional if your database configuration does not require it.

<br><b>Default setting:</b> blank
<br><b>Example:</b> JdbcDataSource.password=secret</ul>
</dl>

<br>
<li>
<b><i>Initialising the Database</i></b><br>
Mobile Data Now comes complete with a default Microsoft Access (Windows only) or Borland
JDataStore (Linux/Solaris) database
which contains all the required database tables for the operation of the
Mobile Data Now applications.
<p>If you want to use your own database instead of the supplied one, you
will need to perform the following tasks:
<ul>
<li>
create a database for Mobile Data Now. <i>We will refer to this as MDN_DB</i>

<li>
change the JdbcDataSource.driver and JdbcDataSource.url settings in the
<a href="#config_rmi_server">MdnRmiServer.conf</a>
file to correctly locate the newly created MDN_DB.

<li>
run <b>MDN_HOME\build_db.bat</b>. This will create all of the Mobile Data
Now tables, and insert a default <a href="#admin_login">administrator login</a>
account.
</ul>

<p>
<li>
<b><i>Configuring Java Security</i></b>

<br>If your system is running Java 1.3, you will need to modify the <b>JAVA_HOME\lib\security\java.policy</b>
file, to grant permissions for the Mobile Data Now jar files.&nbsp;&nbsp;
Add the following entry to <i>JAVA_HOME\lib\security\java.policy</i>, replacing
<b>d:/apps/mdn/lib/</b>
with the correct <b>MDN_HOME\lib</b> path:
<br>&nbsp;
<dl>
<dt>
grant codeBase "file:d:/apps/mdn/lib/*" {
<dd>permission java.security.AllPermission;</dd>
};</dt>
</dl>

<p>
<li>
<a NAME="config_tomcat"></a><b><i>Configure Tomcat</i></b>

<br>If your version of Tomcat uses Java security, you will need to modify
the <b>TOMCAT_HOME\conf\tomcat.policy</b> file, to grant access permissions
to the Mobile Data Now WML Servlet jar files.
Add the following entry to TOMCAT_HOME\conf\tomcat.policy:
<br>&nbsp;
<dl>
<dt>
grant codeBase "file:${tomcat.home}/webapps/mdnwap/-" {
<dd>permission java.security.AllPermission;</dd>
};</dt>
</dl>
<dl>
<dt>
grant codeBase "file:${tomcat.home}/webapps/mdnweb/-" {
<dd>permission java.security.AllPermission;</dd>
};</dt>
</dl>

<p>
If the default Tomcat HTTP handler is not listening on port 80, it may
be necessary to change it. This is because a lot of WAP gateways, will
only forward WML requests to web servers using port 80.
<p>To change the default HTTP handler port, you will need to modify the
<b>TOMCAT_HOME\conf\server.xml</b>
file:
<dl>
<dt>
Find the line that reads <b>&lt;Connector&nbsp;className="org.apache.tomcat.service.PoolTcpConnector"></b>
and change it as follows;</dt>

<dd>
&lt;Connector className="org.apache.tomcat.service.PoolTcpConnector">
<br>&lt;Parameter name="handler" value="org.apache.tomcat.service.http.HttpConnectionHandler"/>
<br>&lt;Parameter name="port" value="80"/>
<br>&lt;/Connector>
</dl>
</ol>

<p><br><a NAME="access_security"></a><font size=+2>Access and Security</font>
<p>It is possible, by removing files or using operating system file access
restrictions, to ensure non-privileged users cannot read or execute certain
Mobile Data Now files. This is particularly relevant of the <b>MdnRmiServer.conf</b>
file, which contains a database username and password. It is recommended
that system administrators restrict user access to all files, other than
those absolutely necessary.
<br>&nbsp;
<p><a NAME="config_detail"></a><font size=+2>Configuration File Details</font>
<dl><!-- *****************   Mdn.conf Settings   ***************** -->
<dt>
<a NAME="config_mdn"></a><b>Mdn.conf</b></dt>

<ul>
<li>
<b>Setting: </b>Log.logLevel - Only log messages of an equal or higher severity
will be output.
<br><b>Default setting:</b> Log.logLevel=1</ul>

<ul>
<li>
<b>Setting:</b> Log.logStreamFactory - Defines a LogStreamFactory class
name. If left blank, it defaults to StderrLogStreamFactory, which writes
to the standard error stream.
<br><b>Default setting:</b> Log.logStreamFactory=
<br><b>Note:</b> This setting can only be changed if a java developer has
written a class that implements the LogStreamFactory interface.</ul>

<ul>
<li>
<b>Setting:</b> SecureRegistry.bootstrapPort - The port used for the bootstrap
registry, <i>must</i> be set to a valid free port. If necessary this may
be changed to avoid port conflicts.
<br><b>Default setting:</b> SecureRegistry.bootstrapPort=1301</ul>

<ul>
<li>
<b>Setting:</b> SecureRegistry.host - Set this to the IP address or domain
name of the server running the MDN Server process.
<br><b>Default setting:</b> SecureRegistry.host=localhost
<br><b>Example:</b> SecureRegistry.host=192.168.1.39</ul>

<ul>
<li>
<b>Setting:</b> SecureRegistry.port - The port the secure registry listens
on, if not set then uses a system assigned port. May be explicitly set
if the port needs to be defined for security (firewall) purposes.
<br><b>Default setting:</b> SecureRegistry.port=</ul>

<ul>
<li>
<b>Setting:</b> RmiServer.ServantPortRange.wsl.fw.notification.NotificationListenerServer
- Port range for servants in the wsl.fw.notification.NotificationListenerServer.
Note that while this is nominally an RmiServer it does not register directly
with the SecureRegistry and so can be used by both client and server, hence
its port range is defined here. If not set then system assigned ports are
used. The notifier is not currently used by
MDN RmiServer.ServantPortRange.wsl.fw.notification.NotificationListenerServer=7000-8000
<br><b>Default setting:</b> RmiServer.ServantPortRange.wsl.fw.notification.NotificationListenerServer=7000-8000</ul>
<b>Note: </b>The following setting are Context url definitions. The context
name is the part after <i>wsl.configcontext</i>. The value is a url defining
the location of the config file to be loaded for that context. Programs
usually load one of these contexts by default. The default context can
normally be overridden by using the <i>-context&nbsp;<context name></i>command
line argument.
<ul>

<li>
<b>Setting:</b> wsl.configcontext.wsl.fw.remote.SecureRegistry - Context
for SecureRegistry (including BootstrapSecurityManager permissions).
<br><b>Default setting:</b> wsl.configcontext.wsl.fw.remote.SecureRegistry=resource://wsl/config/mdn/MdnSecureRegistry.conf</ul>

<ul>
<li>
<b>Setting:</b> wsl.configcontext.wsl.fw.remote.RmiServer - Context for
RmiServer components with SecureRegistry read/write and direct JDBC access
to the database.
<br><b>Default setting:</b> wsl.configcontext.wsl.fw.remote.RmiServer=resource://wsl/config/mdn/MdnRmiServer.conf</ul>

<ul>
<li>
<b>Setting:</b> wsl.configcontext.wsl.fw.remote.RmiClient - Context for
client components with SecureRegistry read and remote (RemoteDataManager/RemoteDataSource)
data access.
<br><b>Default setting:</b> wsl.configcontext.wsl.fw.remote.RmiClient=resource://wsl/config/mdn/MdnRmiClient.conf</ul>

<ul>
<li>
<b>Setting:</b> wsl.configcontext.wsl.mdn.wap.MdnWmlServlet - Context for
the MDN WML Servlet.
<br><b>Default setting:</b> wsl.configcontext.wsl.mdn.wap.MdnWmlServlet=resource://wsl/config/mdn/MdnWmlServlet.conf</ul>

<ul>
<li>
<b>Setting:</b> wsl.doLastConfigfile.defaultExtra - Add any extra config
settings which are to override the basic settings the wsl.doLastConfigfile
ensures these entries are added after any other non-doLast entries.
<br><b>Default setting:</b> wsl.doLastConfigfile.defaultExtra=resource://wsl/config/mdn/extra/mdnExtra.conf</ul>

<!-- *****************   MdnRmiClient.conf Settings   ***************** -->
<dt>
<a NAME="config_rmi_client"></a><b>MdnRmiClient.conf</b></dt>

<ul>
<li>
<b>Setting:</b> SecurityId.systemId.name - System ID (username), this user
id should match one in SecureRegistry.conf that has READ access.
<br><b>Default setting:</b> SecurityId.systemId.name=client_user</ul>

<ul>
<li>
<b>Setting:</b> SecurityId.systemId.password - System ID (password), this
user id should match one in SecureRegistry.conf that has READ access.
<br><b>Default setting:</b> SecurityId.systemId.password=client_password</ul>

<ul>
<li>
<b>Setting:</b> DataManager.RemoteDataManager - SecureRegistry lookup name
for the RemoteDataManager. If not set, the DataManager will use local DataSources
and the data source settings must be provided. MDN <i>must</i> use a remote
data manager.
<br><b>Default setting:</b> DataManager.RemoteDataManager=wsl.fw.datasource.RemoteDataManager</ul>

<ul>
<li>
<b>Setting:</b> wsl.doLastConfigfile.RmiClientExtra - Add any extra config
settings which are to override the basic settings the wsl.doLastConfigfile
ensures these entries are added after any other non-doLast entries.
<br><b>Default setting:</b> wsl.doLastConfigfile.RmiClientExtra=resource://wsl/config/mdn/extra/RmiClientExtra.conf</ul>

<!-- *****************   MdnRmiServer.conf Settings   ***************** -->
<dt>
<a NAME="config_rmi_server"></a><b>MdnRmiServer.conf</b></dt>

<ul>
<li>
<b>Setting:</b> JdbcDataSource.driver - Set this to a fully qualified package
and class name of the java class that implements the JDBC driver for your
database.
<br><b>Default setting:</b> JdbcDataSource.driver=sun.jdbc.odbc.JdbcOdbcDriver
<br><b>Example:</b> JdbcDataSource.driver=com.borland.datastore.jdbc.DataStoreDriver
</ul>

<ul>
<li>
<b>Setting:</b> JdbcDataSource.url - Set this to a correctly formatted
JDBC URL for the driver that was specified in the JdbcDataSource.driver
setting.
<br><b>Default setting:</b> JdbcDataSource.url=jdbc:odbc:mdn
<br><b>Example:</b> JdbcDataSource.url=jdbc:borland:dslocal:c:/mdn/database/mdn.jds
</ul>

<ul>
<li>
<b>Setting:</b> JdbcDataSource.user - Set this to a the username used to
log into your database server. It is optional if your database configuration
does not require a login.
<br><b>Default setting:</b> JdbcDataSource.user=db_user_id
<br><b>Example:</b> JdbcDataSource.user=administrator
</ul>

<ul>
<li>
<b>Setting:</b> JdbcDataSource.password - Set this to the password for
the user name you specified with the JdbcDataSource.user setting. It is
optional if your database configuration does not require it.
<br><b>Default setting:</b> blank
<br><b>Example:</b> JdbcDataSource.password=secret
</ul>

<ul>
<li>
<b>Setting:</b> SecurityId.systemId.name - System ID (username), this user
id should match one of those defined in the SecureRegistry config which
has READ and WRITE access.
<br><b>Default setting:</b> SecurityId.systemId.name=server_user</ul>

<ul>
<li>
<b>Setting:</b> SecurityId.systemId.password
<br>- System ID (username), this user id should match one of those defined
in the SecureRegistry config which has READ and WRITE access.
<br><b>Default setting:</b> SecurityId.systemId.password=server_password</ul>

<ul>
<li>
<b>Setting:</b> JdbcDataSource.catalog - The JDBC Catalog.
<br><b>Default setting:</b> JdbcDataSource.catalog=
<b>Note: </b>Default values for DataManager's ConnectionPoolManager. These
values will be used for all ConnectionPools except the system datasource,
i.e. all used defined data sources.
</ul>

<ul>
<li>
<b>Setting:</b> ConnectionPoolManager.poolSize - Max size of pool, applies
for each pool separately
<br><b>Default setting:</b> ConnectionPoolManager.poolSize=20</ul>

<ul>
<li>
<b>Setting:</b> ConnectionPoolManager.msLifeime - liftime (in MS) of a
connection before it is closed
<br><b>Default setting:</b> ConnectionPoolManager.msLifetime=-1</ul>

<ul>
<li>
<b>Setting:</b> ConnectionPoolManager.msGetTimeout - Max time (in MS) to
wait for a free connection before timing out
<br><b>Default setting:</b> ConnectionPoolManager.msGetTimeout=5000</ul>

<b>Note: </b>System datasource pool settings. These values will be used
for the system datasource Connection pool and any other datasources that
use the same database connection parameters (driver, url, user, password).

<ul>
<li>
<b>Setting:</b> DataManager.SystemDataSource.poolSize - Max size of pool
<br><b>Default setting:</b> DataManager.SystemDataSource.poolSize=2</ul>

<ul>
<li>
<b>Setting:</b> DataManager.SystemDataSource.msLifetime - Liftime (in MS)
of a connection before it is closed
<br><b>Default setting:</b> DataManager.SystemDataSource.msLifetime=-1</ul>

<ul>
<li>
<b>Setting:</b> DataManager.SystemDataSource.msGetTimeout - Max time (in
MS) to wait for a free connection before timing out
<br><b>Default setting:</b> DataManager.SystemDataSource.msGetTimeout=5000</ul>

<ul>
<li>
<b>Setting:</b> wsl.fw.remote.RMIServer.msRebind - Millisecond rebind period
for RMIServers.
<br><b>Default setting:</b> wsl.fw.remote.RMIServer.msRebind=40000</ul>

<b>Note: </b>Port ranges for the servants registered by RMI servers. If
a given RmiServer does not have a port range specified it will use the
next available port.
<br>It is only necessary to specify a port range if you wish to restrict
the ports used for security purposes (i.e. when opening a port range in
a firewall).
<br>Format is: <i>RmiServer.ServantPortRange.&lt;server class name>=&lt;min
port>-&lt;max port></i>

<ul>
<li>
<b>Setting:</b> RmiServer.ServantPortRange.wsl.mdn.server.MdnServer - wsl.mdn.server.MdnServer
port range.
<br><b>Default setting:</b> RmiServer.ServantPortRange.wsl.mdn.server.MdnServer=6000-6099</ul>

<ul>
<li>
<b>Setting:</b> RmiServer.ServantPortRange.wsl.fw.notification.NotifierServer
- wsl.fw.notification.NotifierServer port range. The notifier is not currently
used by MDN.
<br><b>Default setting:</b> RmiServer.ServantPortRange.wsl.fw.notification.NotifierServer=6100-6199</ul>

<ul>
<li>
<b>Setting:</b> wsl.mdn.server.MdnServer.ScheduleManager.sleeptime - Time
to sleep between checks for scheduled operations
<br><b>Default setting:</b> wsl.mdn.server.MdnServer.ScheduleManager.sleeptime=60000</ul>

<ul>
<li>
<b>Setting:</b> wsl.mdn.server.LicenseManager.ScheduleManager.cleanupPeriod
- Period between sweeps to clean out expired locks
<br><b>Default setting:</b> wsl.mdn.server.LicenseManager.ScheduleManager.cleanupPeriod=60000</ul>

<ul>
<li>
<b>Setting:</b> wsl.mdn.server.LicenseManager.ScheduleManager.licenseTimeout
- Time before an unused lock will expire
<br><b>Default setting:</b> wsl.mdn.server.LicenseManager.ScheduleManager.licenseTimeout=300000</ul>

<ul>
<li>
<b>Setting:</b> wsl.doLastConfigfile.RmiServerExtra- - Add any extra config
settings which are to override the basic settings the wsl.doLastConfigfile
ensures these entries are added after any other non-doLast entries.
<br><b>Default setting:</b> wsl.doLastConfigfile.RmiServerExtra=resource://wsl/config/mdn/extra/RmiServerExtra.conf</ul>

<!-- *****************   MdnSecureRegistry.conf Settings ***************** -->
<dt>
<a NAME="config_secure_registry"></a><b>MdnSecureRegistry.conf</b></dt>

<dd>
Entity (system user) permission (property) definitions.</dd>

<br>Permission definitions have the form:
<br><i>BootstrapSecurityManager.entity.&lt;entity name>.&lt;permission name>=&lt;value></i>
<br>where entity name is the user id and permission and value can be any
name-value pair that needs to be programatically checked using the BootstrapSecurityManager.
<br>Each definition MUST define the "password" permission.
<br>E.g. the following defines an entity fred with a password=secret and
the permission access=true
<br>BootstrapSecurityManager.entity.fred.password=secret
<br>BootstrapSecurityManager.entity.fred.access=true

<ul>
<li>
<b>Setting:</b> BootstrapSecurityManager.entity.server_user.password -
Entry for a system user with read and write access to the secure registry
<br><b>Default setting:</b> BootstrapSecurityManager.entity.server_user.password=server_password
</ul>

<ul>
<li>
<b>Setting:</b> BootstrapSecurityManager.entity.server_user.SecureRegistry.access
- Entry for a system user with read and write access to the secure registry
<br><b>Default setting:</b> BootstrapSecurityManager.entity.server_user.SecureRegistry.access=READ,WRITE
</ul>

<ul>
<li>
<b>Setting:</b> BootstrapSecurityManager.entity.client_user.password -
Entry for a client user with read to the secure registry
<br><b>Default setting:</b> BootstrapSecurityManager.entity.client_user.password=client_password
</ul>

<ul>
<li>
<b>Setting:</b> BootstrapSecurityManager.entity.client_user.SecureRegistry.access
- Entry for a client user with read to the secure registry
<br><b>Default setting:</b> BootstrapSecurityManager.entity.client_user.SecureRegistry.access=READ
</ul>

<ul>
<li>
<b>Setting:</b> wsl.doLastConfigfile.SecureRegistryExtra - Add any extra
config settings which are to override the basic settings the wsl.doLastConfigfile
ensures these entries are added after any other non-doLast entries.
<br><b>Default setting:</b> wsl.doLastConfigfile.SecureRegistryExtra=resource://wsl/config/extra/SecureRegistryExtra.conf
</ul>

<!-- *****************   MdnWmlServlet.conf Settings   *****************-->

<dt>
<a NAME="config_wml_servlet"></a><b>MdnWmlServlet.conf</b></dt>

<ul>
<li>
<b>Setting:</b> wsl.mdn.wap.MdnWmlServlet.characterEncoding - MdnWmlServlet
character encoding, if not set then the default encoding, usually ascii
is used.
<br><b>Default setting:</b> wsl.mdn.wap.MdnWmlServlet.characterEncoding=UTF-8
</ul>

<ul>
<li>
<b>Setting:</b> wsl.mdn.wap.MdnWmlServlet.numericEncoding - Config key
for the MdnWmlServlet numeric encoding. If > 0 then any characters (unicode,
so at least 16 bit) whose numeric value is greater than this will be numerically
encoded in the wml ?nnnn; form. This may be used to get around the limitations
of the character encoding scheme.
<br><b>Default setting:</b> wsl.mdn.wap.MdnWmlServlet.numericEncoding=255</ul>

</dl>
<a NAME="troubleshooting"></a><font size=+4>Troubleshooting</font>
<dl>
<br>
<dt><b>Issue</b>

<dd>
Can't see error messages when the <b>tomcatstartup batch file</b> fails
to execute.<br>

<dt><b>Resolution</b>
<dd>
Start tomcat using the <b>MDN_HOME/tc2 batch file</b>. This will prevent
the window containing any error messages from closing.


<p>
<dt><b>Issue</b>
<dd>
Tomcat shows an error such as <b>"java.net.BindException: Address in use"</b>
when starting Tomcat.<br>

<dt><b>Resolution</b>
<dd>
Tomcat is pre-configured to listen on TCP/IP port 80 for HTTP requests.
This message usually means the server you are starting Tomcat on already
has a web server, or some other process, already listening on port 80.<bt>
The simplest way to resolve this issue is to edit the <b>TOMCAT_HOME/conf/system.xml</b>
file and change the line that reads:
<br>
<p>&lt;Connector className="org.apache.tomcat.service.PoolTcpConnector">
<br>&lt;Parameter name="handler" value="org.apache.tomcat.service.http.HttpConnectionHandler"/>
<br>&lt;Parameter name="port" value="80"/>
<br>&lt;/Connector>
<p>Change the <b>value="80"</b> to <b>value="8080"</b>.
<br>Alternatively, have your network administrator change the settings
for you existing web server.

</dl>

</body>
</html>
